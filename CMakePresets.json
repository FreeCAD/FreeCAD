{
    "version": 3,
    "cmakeMinimumRequired": {
      "major": 3,
      "minor": 16,
      "patch": 3
    },
    "configurePresets": [
      {
        "name": "common",
        "hidden": true,
        "cacheVariables": {
          "CMAKE_EXPORT_COMPILE_COMMANDS": {
            "type": "BOOL",
            "value": "ON"
          },
          "CMAKE_JOB_POOL_COMPILE": {
            "type": "STRING",
            "value": "compile_jobs"
          },
          "CMAKE_JOB_POOL_LINK": {
            "type": "STRING",
            "value": "link_jobs"
          },
          "CMAKE_POLICY_VERSION_MINIMUM": {
            "type": "STRING",
            "value": "3.5"
          }
        }
      },
      {
        "name": "debug",
        "displayName": "Debug",
        "description": "Default debug profile",
        "binaryDir": "${sourceDir}/build/debug",
        "inherits": [
          "common"
        ],
        "cacheVariables": {
          "CMAKE_BUILD_TYPE": {
            "type": "STRING",
            "value": "Debug"
          }
        }
      },
      {
        "name": "release",
        "displayName": "Release",
        "description": "Default release profile",
        "binaryDir": "${sourceDir}/build/release",
        "inherits": [
          "common"
        ],
        "cacheVariables": {
          "CMAKE_BUILD_TYPE": {
            "type": "STRING",
            "value": "Release"
          }
        }
      },
      {
        "name": "conda",
        "hidden": true,
        "generator": "Ninja",
        "cacheVariables": {
          "BUILD_FEM_NETGEN": {
            "type": "BOOL",
            "value": "ON"
          },
          "BUILD_WITH_CONDA": {
            "type": "BOOL",
            "value": "ON"
          },
          "BUILD_REVERSEENGINEERING": {
            "type": "BOOL",
            "value": "OFF"
          },
          "ENABLE_DEVELOPER_TESTS": {
            "type": "BOOL",
            "value": "ON"
          },
          "FREECAD_LIBPACK_USE": {
            "type": "BOOL",
            "value": "OFF"
          },
          "FREECAD_USE_EXTERNAL_FMT": {
            "type": "BOOL",
            "value": "ON"
          },
          "FREECAD_USE_EXTERNAL_SMESH": {
            "type": "BOOL",
            "value": "ON"
          },
          "FREECAD_USE_PCH": {
            "type": "BOOL",
            "value": "OFF"
          },
          "FREECAD_USE_PCL": {
            "type": "BOOL",
            "value": "ON"
          },
          "FREECAD_USE_PYBIND11": {
            "type": "BOOL",
            "value": "ON"
          },
          "OCCT_CMAKE_FALLBACK": {
            "type": "BOOL",
            "value": "ON"
          },
          "QT_HOST_PATH": {
            "type": "PATH",
            "value": "$env{CONDA_PREFIX}"
          }
        }
      },
      {
        "name": "conda-linux",
        "hidden": true,
        "condition": {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Linux"
        },
        "cacheVariables": {
          "CMAKE_C_COMPILER": {
            "type": "STRING",
            "value": "clang"
          },
          "CMAKE_CXX_COMPILER": {
            "type": "STRING",
            "value": "clang++"
          },
          "CMAKE_EXE_LINKER_FLAGS": {
            "type": "STRING",
            "value": "-fuse-ld=mold"
          },
          "CMAKE_INSTALL_PREFIX": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}"
          },
          "CMAKE_PREFIX_PATH": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}"
          },
          "CMAKE_SHARED_LINKER_FLAGS": {
            "type": "STRING",
            "value": "-fuse-ld=mold"
          },
          "OCC_INCLUDE_DIR": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/include/opencascade"
          },
          "OCC_LIBRARY_DIR": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/lib"
          }
        }
      },
      {
        "name": "conda-macos",
        "hidden": true,
        "condition": {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Darwin"
        },
        "cacheVariables": {
          "CMAKE_IGNORE_PREFIX_PATH": {
            "type": "STRING",
            "value": "/opt/homebrew;/usr/local/homebrew"
          },
          "CMAKE_INSTALL_PREFIX": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}"
          },
          "CMAKE_PREFIX_PATH": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}"
          },
          "FREECAD_3DCONNEXION_SUPPORT": {
            "type": "STRING",
            "value": "Both"
          },
          "OCC_INCLUDE_DIR": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/include/opencascade"
          },
          "OCC_LIBRARY_DIR": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/lib"
          }
        }
      },
      {
        "name": "conda-windows",
        "hidden": true,
        "condition": {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Windows"
        },
        "cacheVariables": {
          "CMAKE_INSTALL_PREFIX": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/Library"
          },
          "CMAKE_PREFIX_PATH": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/Library"
          },
          "FREECAD_3DCONNEXION_SUPPORT": {
            "type": "STRING",
            "value": "Both"
          },
          "OCC_INCLUDE_DIR": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/Library/include/opencascade"
          },
          "OCC_LIBRARY_DIR": {
            "type": "FILEPATH",
            "value": "$env{CONDA_PREFIX}/Library/lib"
          }
        }
      },
      {
        "name": "conda-debug",
        "hidden": true,
        "displayName": "Conda Debug",
        "description": "Conda debug profile",
        "inherits": [
          "debug",
          "conda"
        ]
      },
      {
        "name": "conda-release",
        "hidden": true,
        "displayName": "Conda Release",
        "description": "Conda release profile",
        "inherits": [
          "release",
          "conda"
        ]
      },
      {
        "name": "conda-linux-debug",
        "displayName": "Conda Debug",
        "description": "Conda debug profile",
        "inherits": [
          "conda-debug",
          "conda-linux"
        ]
      },
      {
        "name": "conda-linux-release",
        "displayName": "Conda Release",
        "description": "Conda release profile",
        "inherits": [
          "conda-release",
          "conda-linux"
        ]
      },
      {
        "name": "conda-macos-debug",
        "displayName": "Conda Debug",
        "description": "Conda debug profile",
        "inherits": [
          "conda-debug",
          "conda-macos"
        ]
      },
      {
        "name": "conda-macos-release",
        "displayName": "Conda Release",
        "description": "Conda release profile",
        "inherits": [
          "conda-release",
          "conda-macos"
        ]
      },
      {
        "name": "conda-windows-debug",
        "displayName": "Conda Debug",
        "description": "Conda debug profile",
        "inherits": [
          "conda-debug",
          "conda-windows"
        ],
        "cacheVariables": {
          "CMAKE_BUILD_TYPE": {
            "type": "STRING",
            "value": "RelWithDebInfo"
          }
        }
      },
      {
        "name": "conda-windows-release",
        "displayName": "Conda Release",
        "description": "Conda release profile",
        "inherits": [
          "conda-release",
          "conda-windows"
        ],
        "cacheVariables": {
          "FREECAD_RELEASE_PDB": {
            "type": "BOOL",
            "value": "OFF"
          }
        }
      },
      {
            "name": "rpm",
            "description": "Settings like rpm build",
            "displayName": "rpm",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/rpm",
            "cacheVariables": {
                "CMAKE_INSTALL_DATAROOTDIR": {
                  "type": "PATH",
                  "value": "/usr/share"
                },
                "CMAKE_C_FLAGS_RELEASE": {
                    "type": "STRING",
                    "value": "-DNDEBUG"
                },
                "CMAKE_CXX_FLAGS_RELEASE": {
                    "type": "STRING",
                    "value": "-DNDEBUG"
                },
                "CMAKE_Fortran_FLAGS_RELEASE": {
                    "type": "STRING",
                    "value": "-DNDEBUG"
                },
                "CMAKE_VERBOSE_MAKEFILE": {
                    "type": "BOOL",
                    "value": "ON"
                },
                "CMAKE_INSTALL_DO_STRIP": {
                    "type": "BOOL",
                    "value": "OFF"
                },
                "CMAKE_INSTALL_PREFIX": {
                    "type": "PATH",
                    "value": "/usr/lib64/freecad"
                },
                "CMAKE_INSTALL_FULL_SBINDIR": {
                    "type": "PATH",
                    "value": "/usr/bin"
                },
                "CMAKE_INSTALL_SBINDIR": {
                    "type": "PATH",
                    "value": "bin"
                },
                "INCLUDE_INSTALL_DIR": {
                    "type": "PATH",
                    "value": "/usr/include"
                },
                "LIB_INSTALL_DIR": {
                    "type": "PATH",
                    "value": "/usr/lib64"
                },
                "SYSCONF_INSTALL_DIR": {
                    "type": "PATH",
                    "value": "/etc"
                },
                "SHARE_INSTALL_PREFIX": {
                    "type": "PATH",
                    "value": "/usr/share"
                },
                "LIB_SUFFIX": {
                    "type": "STRING",
                    "value": "64"
                },
                "BUILD_SHARED_LIBS": {
                    "type": "BOOL",
                    "value": "ON"
                },
                "CMAKE_INSTALL_DOCDIR": {
                    "type": "PATH",
                    "value": "/usr/share/doc/freecad"
                },
                "CMAKE_INSTALL_INCLUDEDIR": {
                    "type": "PATH",
                    "value": "/usr/include"
                },
                "RESOURCEDIR": {
                    "type": "PATH",
                    "value": "/usr/share/freecad"
                },
                "FREECAD_USE_EXTERNAL_PIVY": {
                    "type": "BOOL",
                    "value": "TRUE"
                },
                "FREECAD_USE_EXTERNAL_FMT": {
                    "type": "BOOL",
                    "value": "TRUE"
                },
                "FREECAD_USE_PCL": {
                    "type": "BOOL",
                    "value": "OFF"
                },
                "FREECAD_QT_VERSION": {
                    "type": "STRING",
                    "value": "6"
                },
                "OpenGL_GL_PREFERENCE": {
                    "type": "STRING",
                    "value": "GLVND"
                },
                "USE_OCC": {
                    "type": "BOOL",
                    "value": "TRUE"
                },
                "PYCXX_INCLUDE_DIR": {
                    "type": "PATH",
                    "value": "/usr/include"
                },
                "PYCXX_SOURCE_DIR": {
                    "type": "PATH",
                    "value": "/usr/src/CXX"
                },
                "ENABLE_DEVELOPER_TESTS": {
                    "type": "BOOL",
                    "value": "TRUE"
                },
                "FREECAD_USE_EXTERNAL_GTEST": {
                    "type": "BOOL",
                    "value": "TRUE"
                },
                "ONDSELSOLVER_BUILD_EXE": {
                    "type": "BOOL",
                    "value": "TRUE"
                },
                "BUILD_GUI": {
                    "type": "BOOL",
                    "value": "TRUE"
                }
            },
            "environment": {
                "CC": "gcc",
                "CXX": "g++",
                "LT_SYS_LIBRARY_PATH": "/usr/lib64:",
                "CCACHE_PROGRAM": "/usr/bin/ccache",
                "CFLAGS": "-O2 -flto=auto -ffat-lto-objects -fexceptions -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-U_FORTIFY_SOURCE,-D_FORTIFY_SOURCE=3 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1  -m64 -march=x86-64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -mtls-dialect=gnu2 -fno-omit-frame-pointer -mno-omit-leaf-frame-pointer",
                "CXXFLAGS": "-O2 -flto=auto -ffat-lto-objects -fexceptions -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-U_FORTIFY_SOURCE,-D_FORTIFY_SOURCE=3 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1  -m64 -march=x86-64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -mtls-dialect=gnu2 -fno-omit-frame-pointer -mno-omit-leaf-frame-pointer",
                "LDFLAGS": "-Wl,--as-needed -Wl,--no-undefined"
            }
        }
    ]
}
