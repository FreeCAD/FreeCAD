
# ADR-002: Internal Representation of toolpaths

## Status
Legacy

## Context
We require a data structure to hold the computed toolpath data. The internal representation will be directly rendered into the 3D scene.
Toolpaths may contain hundreds of thousands or even millions of elements so memory utilization should be considered.  The toolpaths will be converted into
g-code during postprocessing.

## Decision
We will use an abbreviated subset of gcode as the internal representation. The intent is not to support the full range
of RS274 features but to provide enough to capture user intent and to efficiently render the tool paths visually.

The internal representation (Path Commands) will store the data in FreeCAD's native unit schema (mm, seconds, etc)

## Consequences

Advantages
- it is human readable
- it is memory efficient
- it is easily converted into final gcode
- it is extensible

Disadvantages
- Gcode is not explicit.  A command contains semantics about where to move the
  cutter *to* but not where it is coming *from*.  Therefore the first move will always appear as a move from the origin
- Directly inspecting the path commands will not reflect either the document
  unit schema or the selected output unit schema.
